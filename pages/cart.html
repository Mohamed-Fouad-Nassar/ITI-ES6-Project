<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="E-commerce Website using HTML, CSS, JS. as a evaluation for the ES6 course in ITI, your cart page"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
      integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="shortcut icon"
      href="/assets/images/favicon.ico"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../styles/cart.css" />
    <title>E-commerce | Your Cart</title>
  </head>

  <body>
    <header>
      <div class="container">
        <h2>E-com</h2>
        <nav>
          <ul>
            <li><a href="/index.html">Home</a></li>
            <li><a href="./products.html">Products</a></li>
            <li><a href="./testimonials.html">Testimonials</a></li>
            <li><a href="#" class="active">Cart</a></li>
          </ul>
        </nav>
        <div>
          <ul id="no-user">
            <li>
              <a class="btn btn-primary" href="./pages/login.html">Log in</a>
            </li>
            <li>
              <a class="btn btn-secondary" href="./pages/register.html"
                >Register</a
              >
            </li>
          </ul>
          <div id="user-profile">
            <span id="username"></span>
            <button class="btn btn-danger" id="log-out">Log out</button>
          </div>
        </div>
      </div>
    </header>

    <main>
      <div class="container">
        <h2>Your Cart</h2>

        <section class="cart-items" id="cartItems">
          <div class="cart-item">
            <div class="qty">2 ×</div>
            <div class="image">
              <img src="/assets/products/product.webp" alt="product" />
            </div>
            <div>Product 1</div>
            <div class="actions">
              <button class="btn-icon btn-primary">
                <i class="fa-solid fa-plus"></i>
              </button>
              <div class="price">200</div>
              <button class="btn-icon btn-secondary">
                <i class="fa-solid fa-minus"></i>
              </button>
              <button class="btn-icon btn-danger" class="delete">
                <i class="fa-solid fa-trash"></i>
              </button>
            </div>
          </div>
        </section>

        <section class="summary">
          <div>
            <span>Items Number</span>
            <span id="itemsCount">0</span>
          </div>
          <div>
            <span>Sub-total</span>
            <span id="subtotal">$0.00</span>
          </div>
          <div>
            <span>Discount</span>
            <span id="discount">$0.00</span>
          </div>
          <div class="total">
            <span>Total</span>
            <span id="total">$0.00</span>
          </div>
        </section>

        <section class="buttons">
          <button class="btn btn-primary">Complete Ordering</button>
          <button class="btn btn-ghost" id="clearCart">Clear Cart</button>
        </section>
      </div>
    </main>

    <footer>
      <div class="container">
        <div>
          <h2>E-com</h2>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas,
            voluptatem numquam ipsa, itaque molestiae molestias temporibus
            tempora explicabo et ad reprehenderit nostrum voluptates corporis
            fugiat sint voluptas repellendus. Culpa, animi.
          </p>
          <nav class="social-nav">
            <ul>
              <li>
                <a href="https://www.facebook.com" target="_blank">
                  <i class="fa-brands fa-facebook-f"></i>
                </a>
              </li>
              <li>
                <a href="https://www.instagram.com" target="_blank">
                  <i class="fa-brands fa-instagram"></i>
                </a>
              </li>
              <li>
                <a href="https://www.twitter.com" target="_blank">
                  <i class="fa-brands fa-twitter"></i>
                </a>
              </li>
              <li>
                <a href="mailto:7Ku6t@example.com">
                  <i class="fa-regular fa-envelope" target="_blank"></i>
                </a>
              </li>
            </ul>
          </nav>
        </div>

        <div>
          <h3>Quick Links</h3>
          <nav class="footer-nav">
            <ul>
              <li><a href="/index.html">Home</a></li>
              <li><a href="./products.html">Products</a></li>
              <li><a href="./testimonials.html">Testimonials</a></li>
              <li><a href="#">Cart</a></li>
            </ul>
          </nav>
        </div>

        <p>
          ITI ES6 Course Project E-commerce Website Created by Mohamed Nassar
          &copy; 2025 All rights reserved
        </p>
      </div>
    </footer>

    <script src="../js/shared.js" type="module"></script>
    <script src="../js/cart.js" type="module"></script>

    <!-- <script>
      let cart = [
        { id: 1, name: "Iced Coffee", price: 4, qty: 1 },
        { id: 2, name: "Chicken Caesar Wrap", price: 9, qty: 1 },
        { id: 3, name: "Fresh mint limeade", price: 15, qty: 4 },
      ];

      const cartItems = document.getElementById("cartItems");
      const itemsCount = document.getElementById("itemsCount");
      const subtotalEl = document.getElementById("subtotal");
      const discountEl = document.getElementById("discount");
      const totalEl = document.getElementById("total");

      function renderCart() {
        cartItems.innerHTML = "";

        cart.forEach((item) => {
          const row = document.createElement("div");
          row.className = "cart-item";

          row.innerHTML = `
        <div class="qty">${item.qty} ×</div>
        <div>${item.name}</div>
        <div class="price">$${(item.price * item.qty).toFixed(2)}</div>
        <div class="actions">
          <button class='btn-icon btn-primary' onclick="updateQty(${
            item.id
          }, -1)">−</button>
          <button class='btn-icon btn-secondary' onclick="updateQty(${
            item.id
          }, 1)">+</button>
          <button class='btn-icon btn-danger' class="delete" onclick="removeItem(${
            item.id
          })"><i class="fa-solid fa-trash"></i></button>
        </div>
      `;

          cartItems.appendChild(row);
        });

        updateSummary();
      }

      function updateQty(id, change) {
        const item = cart.find((i) => i.id === id);
        if (!item) return;

        item.qty += change;
        if (item.qty <= 0) removeItem(id);
        renderCart();
      }

      function removeItem(id) {
        cart = cart.filter((i) => i.id !== id);
        renderCart();
      }

      function updateSummary() {
        const items = cart.length;
        const subtotal = cart.reduce((sum, i) => sum + i.price * i.qty, 0);
        const discount = subtotal > 100 ? 32 : 0;
        const total = subtotal - discount;

        itemsCount.textContent = items;
        subtotalEl.textContent = `$${subtotal.toFixed(2)}`;
        discountEl.textContent = `$${discount.toFixed(2)}`;
        totalEl.textContent = `$${total.toFixed(2)}`;
      }

      document.getElementById("clearCart").onclick = () => {
        cart = [];
        renderCart();
      };

      renderCart();
    </script> -->
  </body>
</html>
